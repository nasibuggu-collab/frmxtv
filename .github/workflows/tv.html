<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>FireBOX GO</title>
<meta name="theme-color" content="#3b82f6">
<link rel="manifest" href="manifest.json">

<style>
* { margin:0; padding:0; box-sizing:border-box; }
body { font-family: 'Avenir', sans-serif; background:#0e0b16; color:#f9f9f9; min-height:100vh; overflow-x:hidden; }
.header { background: linear-gradient(180deg, rgba(0,0,0,0.8) 0%, rgba(0,0,0,0) 100%); padding:20px 40px; position:sticky; top:0; z-index:100; backdrop-filter:blur(10px); }
h1 { color:#f9f9f9; font-size:1.8rem; font-weight:600; letter-spacing:-0.5px; }
.container { max-width:1600px; margin:0 auto; padding:0 40px 60px; }
.search-box { margin:30px 0; }
.search-box input { width:100%; max-width:500px; padding:12px 20px 12px 45px; border:1px solid #2a2a2a; border-radius:6px; background:#1a1a1a url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="%23999" stroke-width="2"><circle cx="11" cy="11" r="8"/><path d="m21 21-4.35-4.35"/></svg>') no-repeat 15px center; color:#f9f9f9; font-size:0.95rem; outline:none; transition: all 0.2s ease; }
.search-box input:focus { background-color:#252525; border-color:#3a3a3a; }
.categories { display:flex; gap:12px; margin-bottom:40px; overflow-x:auto; padding-bottom:10px; }
.category-btn { padding:8px 20px; border:1px solid #2a2a2a; border-radius:6px; background:transparent; color:#f9f9f9; font-size:0.9rem; font-weight:500; cursor:pointer; white-space:nowrap; transition:all 0.2s ease; }
.category-btn:hover { background:#1a1a1a; border-color:#3a3a3a; }
.category-btn.active { background:#f9f9f9; color:#0e0b16; border-color:#f9f9f9; }
.section-title { font-size:1.4rem; font-weight:600; margin-bottom:20px; color:#f9f9f9; }
.slider-container { position:relative; margin-bottom:50px; }
.slider { display:flex; gap:16px; overflow-x:auto; scroll-behavior:smooth; scrollbar-width:none; padding:10px 0; }
.slider::-webkit-scrollbar { display:none; }
.slider-btn { position:absolute; top:50%; transform:translateY(-50%); width:50px; height:50px; background:rgba(20,20,20,0.9); border:1px solid #2a2a2a; border-radius:50%; color:#f9f9f9; font-size:1.5rem; cursor:pointer; z-index:10; display:flex; align-items:center; justify-content:center; opacity:0; transition:all 0.2s ease; }
.slider-container:hover .slider-btn { opacity:1; }
.slider-btn:hover { background: rgba(40,40,40,0.95); transform: translateY(-50%) scale(1.1); }
.slider-btn.prev { left:-25px; } .slider-btn.next { right:-25px; }
.featured-card { min-width:380px; height:210px; border-radius:8px; background:#1a1a1a; border:1px solid transparent; cursor:pointer; transition:all 0.3s ease; position:relative; overflow:hidden; }
.featured-card:hover { transform:scale(1.05); border-color:rgba(249,249,249,0.3); box-shadow:0 8px 30px rgba(0,0,0,0.6); }
.featured-card img { width:100%; height:100%; object-fit:cover; border-radius:8px; }
.featured-overlay { position:absolute; bottom:0; left:0; right:0; background: linear-gradient(to top, rgba(0,0,0,0.9), transparent); padding:20px; opacity:0; transition:opacity 0.3s ease; }
.featured-card:hover .featured-overlay { opacity:1; }
.featured-title { font-size:1.1rem; font-weight:600; color:#f9f9f9; }
.channels-grid { display:grid; grid-template-columns:repeat(auto-fill, minmax(180px,1fr)); gap:20px; }
.channel-card { background:#1a1a1a; border-radius:8px; overflow:hidden; cursor:pointer; transition:all 0.3s ease; border:1px solid transparent; aspect-ratio:16/9; position:relative; }
.channel-card:hover { transform:scale(1.05); border-color:rgba(249,249,249,0.3); box-shadow:0 8px 30px rgba(0,0,0,0.6); }
.channel-card.selected { border-color:#3b82f6; box-shadow:0 0 0 2px #3b82f6; }
.channel-card img { width:100%; height:100%; object-fit:cover; display:block; }
.channel-fallback { width:100%; height:100%; display:flex; align-items:center; justify-content:center; background:#252525; color:#f9f9f9; font-size:1.5rem; font-weight:600; }
.selected-count { position:fixed; bottom:30px; right:30px; background:#3b82f6; color:#fff; padding:12px 24px; border-radius:30px; font-weight:600; box-shadow:0 4px 20px rgba(59,130,246,0.4); z-index:1000; font-size:0.95rem; }
#addToHomeScreen { display:none; margin-bottom:20px; padding:10px 20px; border:none; border-radius:8px; background:#3b82f6; color:white; cursor:pointer; }
@media (max-width:768px) { .header { padding:15px 20px; } .container { padding:0 20px 40px; } h1 { font-size:1.4rem; } .featured-card { min-width:280px; height:160px; } .channels-grid { grid-template-columns:repeat(auto-fill, minmax(140px,1fr)); gap:12px; } .slider-btn { display:none; } }
</style>
</head>

<body>
<div class="header">
    <h1>FireBOX GO</h1>
</div>

<div class="container">
    <div class="search-box">
        <input type="text" id="searchInput" placeholder="Film, dizi veya kanal ara...">
    </div>

    <button id="addToHomeScreen">Ana Ekrana Ekle</button>

    <div class="categories">
        <button class="category-btn active" data-category="all">Tümü</button>
        <button class="category-btn" data-category="haber">Haber</button>
        <button class="category-btn" data-category="eglence">Eğlence</button>
        <button class="category-btn" data-category="spor">Spor</button>
        <button class="category-btn" data-category="cocuk">Çocuk</button>
        <button class="category-btn" data-category="belgesel">Belgesel</button>
        <button class="category-btn" data-category="muzik">Müzik</button>
    </div>

    <div class="slider-container">
        <h2 class="section-title">Öne Çıkanlar</h2>
        <button class="slider-btn prev" onclick="scrollSlider('featured', -1)">‹</button>
        <div class="slider" id="featuredSlider"></div>
        <button class="slider-btn next" onclick="scrollSlider('featured', 1)">›</button>
    </div>

    <div class="section">
        <h2 class="section-title">Tüm Kanallar</h2>
        <div class="channels-grid" id="channelsGrid"></div>
    </div>
</div>

<div class="selected-count" id="selectedCount">Seçilen: 0</div>

<script>
if('serviceWorker' in navigator){
    navigator.serviceWorker.register('./sw.js')
    .then(()=>console.log('Service Worker kaydedildi'))
    .catch(err=>console.log('SW Hatası:', err));
}

        const channels = [
            { name: 'Sinema Aile', category: 'haber', icon: 'https://www.tvyayinakisi.com/wp-content/uploads/2020/05/sinemaaile.png', url: 'https://dsmartgo-live.ercdn.net/sinemaaile2/sinemaaile2_1080p.m3u8?st=jKMCisTG9dHqGnj6xsM7sw&e=1767039856&uid=7307739415362536717&sid=tADxGfwCCiB0pw&userid=&reqid=5e609a8e6b26df60dc76c3f2a2f9bcc3&tmode=1', featured: true },
            { name: 'Sinema Komedi', category: 'haber', icon: 'https://www.tvyayinakisi.com/wp-content/uploads/2020/05/sinema-komed.png', url: 'https://dsmartgo-live.ercdn.net/sinemaaile2/sinemaaile2_1080p.m3u8?st=365felHGV_ypGFC8YukREQ&e=1767039939&uid=7307739415362536717&sid=tADxGfwCCiB0pw&userid=&reqid=6a90b9edf617498c82d00cbb384f9ec0&tmode=1', featured: true },
            { name: 'BeinSeries2', category: 'haber', icon: 'https://upload.wikimedia.org/wikipedia/commons/8/81/BeIN_SERIES_logo_2017.jpg', url: 'https://kaleidoscopic-dieffenbachia-ad1198.netlify.app', featured: true },
            { name: 'Sinema 1001', category: 'spor', icon: 'https://www.tvyayinakisi.com/wp-content/uploads/2020/05/sinema-1001.png', url: 'https://dsmartgo-live.ercdn.net/sinema1001/sinema1001_1080p.m3u8?st=a2mTnbx3dwLDkgsvpIXWlQ&e=1767039955&uid=7307739415362536717&sid=tADxGfwCCiB0pw&userid=&reqid=a7625873aa7b2d643faf473e07e8542f&tmode=1', featured: true },
            { name: 'Film Screen HD', category: 'spor', icon: 'https://cosmobluemedia.com/wp-content/uploads/elementor/thumbs/film-screen-1-qgrlrm8vb8gjhoo4j5h6ctontf0f0n1yff1uhjsrci.png', url: 'https://dsmartgo-live.ercdn.net/filmbox/filmbox_1080p.m3u8?st=wPvcXU2ASV-RZLCv0lkmxg&e=1767039983&uid=7307739415362536717&sid=tADxGfwCCiB0pw&userid=&reqid=6f1f943cded18cc0de523b564819cb9b&tmode=1', featured: true },
            { name: 'FX HD', category: 'cocuk', icon: 'https://upload.wikimedia.org/wikipedia/commons/4/4d/FX_International_logo.svg', url: 'https://dsmartgo-live.ercdn.net/fx/fx_1080p.m3u8?st=aK_Y4Cd3TdqiTZJuOTcXHw&e=1767040015&uid=7307739415362536717&sid=tADxGfwCCiB0pw&userid=&reqid=744599e413aeb71b6eeb1b66c5bcad27&tmode=1' },
            { name: 'Dizismart Premium', category: 'belgesel', icon: 'https://upload.wikimedia.org/wikipedia/commons/thumb/e/e8/TRT_Belgesel_logo.svg/240px-TRT_Belgesel_logo.svg.png', url: 'https://dsmartgo-live.ercdn.net/dizismartpremium/dizismartpremium_1080p.m3u8?st=jfEw1IetBQRguc2appdC8Q&e=1767040042&uid=7307739415362536717&sid=tADxGfwCCiB0pw&userid=&reqid=70df63bc11c4d8f9fe93d3acf0286456&tmode=1' },
            { name: 'Nat GEO HD', category: 'muzik', icon: 'https://account.nationalgeographic.com/media/national-geographic/media/National-Geographic-Logo.png', url: 'https://dsmartgo-live.ercdn.net/natgeo/natgeo_1080p.m3u8?st=3fBx_1C89bW4S1okg2V8oQ&e=1767040076&uid=7307739415362536717&sid=tADxGfwCCiB0pw&userid=&reqid=bd10dc5bcf3c5a6609d6a0879a90659c&tmode=1' },
            { name: 'Spor Smart HD', category: 'eglence', icon: 'https://image.milimaj.com/i/milliyet/75/869x477/61013bfb86b24419fc684867.jpg', url: 'https://dsmartgo-live.ercdn.net/natgeo/natgeo_1080p.m3u8?st=3fBx_1C89bW4S1okg2V8oQ&e=1767040076&uid=7307739415362536717&sid=tADxGfwCCiB0pw&userid=&reqid=bd10dc5bcf3c5a6609d6a0879a90659c&tmode=1' },
            { name: 'Disney JR HD', category: 'eglence', icon: 'https://upload.wikimedia.org/wikipedia/commons/thumb/e/e3/2024_Disney_Jr._Logo.svg/2560px-2024_Disney_Jr._Logo.svg.png', url: 'https://dsmartgo-live.ercdn.net/disneyjunior/disneyjunior_1080p.m3u8?st=Swyrex2LMzKMVZ5TKykcEw&e=1767040151&uid=7307739415362536717&sid=tADxGfwCCiB0pw&userid=&reqid=c34a3292aa05cf82dd67ed490bda6b29&tmode=1' },
            { name: 'Çocuk Smart HD', category: 'haber', icon: 'https://dsmart-internet.com/i/dsmart/75/0x0/58f231a7f1a4aa14bc34dada.png', url: 'https://dsmartgo-live.ercdn.net/smartcocuk/smartcocuk_1080p.m3u8?st=59-xZWOKVhla-6rcs-r3iA&e=1767040191&uid=7307739415362536717&sid=tADxGfwCCiB0pw&userid=&reqid=b5d2b81c181e3ca06416576365653cfe&tmode=1' },
            { name: 'Azoomee HD', category: 'belgesel', icon: 'https://play-lh.googleusercontent.com/QPk62ErkFF1o1OdlBoaHIBeQpswXVqDHs3HYgIYsrgcG05Tp7RVie0jQAfncSvV07w', url: 'https://dsmartgo-live.ercdn.net/fastfunbox/fastfunbox_1080p.m3u8?st=WGu6G-8bsKnEHTjg-B9miQ&e=1767040219&uid=7307739415362536717&sid=tADxGfwCCiB0pw&userid=&reqid=4f39a6604be4e2c4af7b58d21f0cefab&tmode=1' },
            { name: 'Bein Sports 1', category: 'cocuk', icon: 'https://yt3.googleusercontent.com/_vs7K9u3pS-C7flO0cVIkxqgLsIkjElGL6izCYFzI0COAYKda5g2J9DRB9-EHsfTXwA_ayi72g=s900-c-k-c0x00ffffff-no-rj', url: 'https://dga1op10s1u3leo.38f3bb9511487c.click/live/selcukbeinsports2/playlist.m3u8' },
            { name: 'Bein Sports 2', category: 'cocuk', icon: 'https://yt3.googleusercontent.com/_vs7K9u3pS-C7flO0cVIkxqgLsIkjElGL6izCYFzI0COAYKda5g2J9DRB9-EHsfTXwA_ayi72g=s900-c-k-c0x00ffffff-no-rj', url: 'https://dga1op10s1u3leo.38f3bb9511487c.click/live/selcukbeinsports2/playlist.m3u8' },
            { name: 'S Sport 1', category: 'cocuk', icon: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS6HfF3oPPfgkmldl35JXnaVM0HDjrbVo3Jug&s', url: 'https://dga1op10s1u3leo.38f3bb9511487c.click/live/selcukbeinsports2/playlist.m3u8' },
            { name: 'S Sport 2', category: 'haber', icon: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS6HfF3oPPfgkmldl35JXnaVM0HDjrbVo3Jug&s', url: 'https://dga1op10s1u3leo.38f3bb9511487c.click/live/selcukbeinsports2/playlist.m3u8' },
            { name: 'Tivibu Spor HD', category: 'haber', icon: 'https://upload.wikimedia.org/wikipedia/tr/3/36/Tivibu_spor_logosu.jpg', url: 'https://dga1op10s1u3leo.38f3bb9511487c.click/live/selcukbeinsports2/playlist.m3u8' },
        ];

let selectedChannels = new Set();
let currentCategory = 'all';
const channelsGrid = document.getElementById('channelsGrid');
const featuredSlider = document.getElementById('featuredSlider');
const selectedCount = document.getElementById('selectedCount');
const searchInput = document.getElementById('searchInput');

function scrollSlider(sliderId, direction){
    const slider = document.getElementById(sliderId+'Slider');
    slider.scrollBy({ left: direction*400, behavior:'smooth' });
}

function openInMXPlayer(streamUrl, channelName){
    const mxPlayerIntent = `intent:${streamUrl}#Intent;package=com.mxtech.videoplayer.ad;S.title=${encodeURIComponent(channelName)};end`;
    window.location.href = mxPlayerIntent;

    setTimeout(()=>{
        if(confirm('MX Player yüklü değilse tarayıcıda açılsın mı?')){
            window.open(streamUrl,'_blank');
        }
    },1000);
}

function renderFeatured(){
    featuredSlider.innerHTML = '';
    channels.filter(c=>c.featured).forEach(channel=>{
        const card=document.createElement('div');
        card.className='featured-card';
        const img=document.createElement('img');
        img.src=channel.icon; img.alt=channel.name;
        const overlay=document.createElement('div');
        overlay.className='featured-overlay';
        overlay.innerHTML=`<div class="featured-title">${channel.name}</div>`;
        card.appendChild(img); card.appendChild(overlay);
        card.addEventListener('click',()=>{ openInMXPlayer(channel.url,channel.name); });
        featuredSlider.appendChild(card);
    });
}

function renderChannels(filter=''){
    channelsGrid.innerHTML='';
    channels.filter(ch=>{
        const matchCategory=currentCategory==='all'||ch.category===currentCategory;
        const matchSearch=ch.name.toLowerCase().includes(filter.toLowerCase());
        return matchCategory&&matchSearch;
    }).forEach(channel=>{
        const card=document.createElement('div'); card.className='channel-card';
        if(selectedChannels.has(channel.name)) card.classList.add('selected');
        const img=document.createElement('img'); img.src=channel.icon; img.alt=channel.name;
        img.onerror=function(){ this.style.display='none'; const fallback=document.createElement('div'); fallback.className='channel-fallback'; fallback.textContent=channel.name.substring(0,2).toUpperCase(); card.appendChild(fallback); };
        card.appendChild(img);
        card.addEventListener('click',()=>{ openInMXPlayer(channel.url,channel.name); });
        channelsGrid.appendChild(card);
    });
}

renderFeatured();
renderChannels();

document.querySelectorAll('.category-btn').forEach(btn=>{
    btn.addEventListener('click',()=>{
        document.querySelectorAll('.category-btn').forEach(b=>b.classList.remove('active'));
        btn.classList.add('active');
        currentCategory=btn.dataset.category;
        renderChannels(searchInput.value);
    });
});

searchInput.addEventListener('input',e=>{
    renderChannels(e.target.value);
});

// PWA Ana Ekrana Ekle
let deferredPrompt;
const addBtn = document.getElementById('addToHomeScreen');

window.addEventListener('beforeinstallprompt',(e)=>{
    e.preventDefault();
    deferredPrompt=e;
    addBtn.style.display='block';
});

addBtn.addEventListener('click',()=>{
    if(!deferredPrompt) return;
    deferredPrompt.prompt();
    deferredPrompt.userChoice.then(choiceResult=>{
        deferredPrompt=null;
    });
});
</script>
</body>
</html>
